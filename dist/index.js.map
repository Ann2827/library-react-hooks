{"version":3,"file":"index.js","sources":["../src/hooks/toast/toast.hook.ts"],"sourcesContent":["import type { DataI, RecursivePartial, ToastDataObject, ToastI, ToastPropsT, ToastSettingsI } from './toast.types';\n\nconst initialSettings: ToastSettingsI = {\n  sticky: false,\n  duration: 3000,\n  duplicate: true,\n  types: {\n    error: {\n      title: '',\n      icon: '',\n      console: true,\n      color: '',\n    },\n    warning: {\n      title: '',\n      icon: '',\n      console: true,\n      color: '',\n    },\n    info: {\n      title: '',\n      icon: '',\n      console: false,\n      color: '',\n    },\n    success: {\n      title: '',\n      icon: '',\n      console: false,\n      color: '',\n    },\n  },\n};\n\nconst data: DataI = {\n  lastID: 0,\n  data: [],\n  timeouts: [],\n  settings: { ...initialSettings },\n  activate({ text, type, duration, sticky, title, actions, tag }) {\n    if (!this.settings.duplicate && tag && this.data.find((item) => item.tag === tag)) {\n      return;\n    }\n\n    this.lastID += 1;\n    const id = this.lastID;\n    this.data.push({\n      text,\n      type,\n      id,\n      title: title ?? this.settings.types[type].title,\n      actions,\n      tag,\n      icon: this.settings.types[type].icon,\n    });\n\n    const time = this.settings.duration || duration;\n    if (!this.settings.sticky && !sticky && time) {\n      const timeout = setTimeout(() => {\n        this.determinate(id);\n        this.timeouts = this.timeouts.filter((item) => item.id !== id);\n      }, time);\n      this.timeouts.push({ id, clear: timeout });\n    }\n\n    this.event(this.data);\n  },\n  determinate(id) {\n    let updated: ToastDataObject[] = [];\n    let timeouts: DataI['timeouts'] = [];\n    if (id) {\n      updated = this.data.filter((item) => item.id !== id);\n      const timeout = this.timeouts.find((item) => item.id === id);\n      if (timeout) clearTimeout(timeout.clear);\n      timeouts = this.timeouts.filter((item) => item.id !== id);\n    }\n    this.data = updated;\n    this.timeouts = timeouts;\n\n    this.event(updated);\n  },\n  getData() {\n    return this.data;\n  },\n  on(fn) {\n    this.event = fn;\n  },\n  // @ts-ignore\n  event(data) {},\n  console(type) {\n    return this.settings.types[type].console;\n  },\n};\n\nexport const toastSettings = (props: RecursivePartial<ToastSettingsI>): void => {\n  data.settings = {\n    sticky: props.sticky ?? initialSettings.sticky,\n    duration: props.duration ?? initialSettings.duration,\n    duplicate: props.duplicate ?? initialSettings.duplicate,\n    types: {\n      error: { ...initialSettings.types.error, ...props.types?.error },\n      warning: { ...initialSettings.types.warning, ...props.types?.warning },\n      info: { ...initialSettings.types.info, ...props.types?.info },\n      success: { ...initialSettings.types.success, ...props.types?.success },\n    },\n  };\n};\n\nexport const useToast = (): ToastI => ({\n  data: data.getData(),\n  on: (fn) => data.on(fn),\n  clear: (id) => data.determinate(id),\n  alert: ({ text, type = 'error', duration, sticky, title, actions, tag }: ToastPropsT) => {\n    data.activate({ text, type, duration, sticky, title, actions, tag });\n\n    if (type === 'error' && data.console('error'))\n      console.error('%c Error ', 'color: white; background-color: #FF1744; border-radius: 5px', text);\n    if (type === 'warning' && data.console('warning'))\n      console.warn('%c Warning ', 'color: white; background-color: #F57C00; border-radius: 5px', text);\n    if (type === 'info' && data.console('info'))\n      console.info('%c Info ', 'color: white; background-color: #00B0FF; border-radius: 5px', text);\n    if (type === 'success' && data.console('success'))\n      console.info('%c Success ', 'color: white; background-color: #00C853; border-radius: 5px', text);\n  },\n});\n"],"names":["initialSettings","sticky","duration","duplicate","types","error","title","icon","console","color","warning","info","success","data","lastID","timeouts","settings","activate","text","type","actions","tag","find","item","id","push","time","timeout","setTimeout","determinate","filter","clear","event","updated","clearTimeout","getData","on","fn","toastSettings","props","useToast","alert","warn"],"mappings":"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"}